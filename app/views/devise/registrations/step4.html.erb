<div class="sign-up-header" style="min-width: 100%; height: 50px; text-align: center;">
  <p class="create-account-text" style="color: #FFA01C; font-family: 'Roboto', sans-serif; font-weight: bold; font-size: 40px; margin: 0;">Créez votre compte</p>
</div>

<div class="sign-up-header" style="min-width: 100%; display: flex; justify-content: center; padding-top: 30px; padding-bottom: 30px">
  <%= image_tag('progress-bar-sign-up-4.png', alt: 'progress bar step 4/4', class: 'centered-image', style: "width: 457px") %>
</div>

<div class="sign-up-step-container" style="min-width: 100%; height: 78vh; display: flex">

  <div class="sign-up-left" style="min-width: 50%; display: flex; justify-content: center; flex-direction: column">

    <div style="text-align: center; height: 150px; padding-top: 50px">
      <p class="create-account-text" style="color: #FFA01C; font-family: 'Roboto', sans-serif; font-weight: bold; font-size: 32px; margin: 0; width: 460px; margin: auto">Simple CRM simplifie la vie des organisations, quel que soit leur statut, activitée ou localisation</p>
    </div>
    <div class="sign-up-header" style="display: flex; justify-content: center; padding-top: 100px">
      <%= image_tag('undraw_work-friends_kto3.svg', alt: 'work with friends', class: 'centered-image', style: "width: 400px") %>
    </div>
    <div style="padding-left: 20%; padding-top: 140px;">
      <%= link_to "Retour", step3_users_registrations_get_path, class: 'sub-custom-button-return', style: 'text-decoration: none;', data: { turbo: false } %>
    </div>
  </div>

  <div class="sign-up-right" style="min-width: 50%; padding-top: 30px">
  <%= form_for @user, as: :user, url: user_registration_path, method: :post, 
              data: { turbo: false, controller: "organisation-form", step: "4" } do |f| %>
    <%= render 'devise/shared/error_messages', resource: @user %>

    <%= f.fields_for :organisation do |org_form| %>
      <div class="form-group-step4">
        <%= org_form.label :business_name, class: 'sub-custom-label' %>
        <%= org_form.text_field :business_name, class: 'sub-custom-input' %>
      </div>

      <div class="form-group-step4">
        <%= org_form.label :identification_number, "N° SIRET", class: 'sub-custom-label' %>
        <%= org_form.text_field :identification_number, class: 'sub-custom-input' %>
      </div>

      <div class="form-group-step4">
        <%= org_form.label :logo, class: 'sub-custom-label' %>
        <%= org_form.file_field :logo %>
      </div>

      <div class="form-group-step4">
        <%= org_form.label :capital, class: 'sub-custom-label' %>
        <%= org_form.text_field :capital, class: 'sub-custom-input' %>
      </div>
     
      <div data-controller="datepicker">
        <div class="form-group-step4">
          <%= org_form.label :creation_date, class: 'sub-custom-label' %>
          <%= org_form.text_field :creation_date, 
                                class: 'sub-custom-input', 
                                data: { 
                                       datepicker_target: "input"
                                      },
                                value: org_form.object.creation_date&.strftime('%Y-%m-%d') %>
          </small>
        </div>
      <div>

      <div class="form-group-step4">
        <%= org_form.label :address, class: 'sub-custom-label' %>
        <%= org_form.text_field :address, class: 'sub-custom-input' %>
      </div>

      <div class="form-group-step4">
        <%= org_form.label :postal_code, class: 'sub-custom-label' %>
        <%= org_form.text_field :postal_code, class: 'sub-custom-input' %>
      </div>

      <div class="form-group-step4">
        <%= org_form.label :city, class: 'sub-custom-label' %>
        <%= org_form.text_field :city, class: 'sub-custom-input' %>
      </div>
      
      <%# id de base company associée %>
      <%= org_form.hidden_field :base_company_id %>
    <% end %>

    <div class="form-group-step4" style="display: flex; justify-content: right; width: 590px;">
      <%= f.submit "Terminer", class: 'sub-custom-button' %>
    </div>
  <% end %>
</div>

</div>

<style>
  /* Styles pour Flatpickr */
.flatpickr-calendar {
  border: none;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  font-family: 'Roboto', sans-serif;
}

.flatpickr-day.selected,
.flatpickr-day.startRange.endRange,
.flatpickr-day.selected.inRange,
.flatpickr-day.selected:focus,
.flatpickr-day.selected:hover {
  background: #FFA01C;
  border-color: #FFA01C;
  color: white;
}

.flatpickr-month {
  background: white;
  color: #FFA01C;
}

.flatpickr-current-month .numInputWrapper span {
  color: #FFA01C;
}

.flatpickr-day.today {
  border-color: #FFA01C;
  color: #FFA01C;
}
</style>











